{% extends 'base.html' %}
{% block title %}NEW Rule Builder{% endblock %}



{% block content %}

<div class="alert alert-warning alert-dismissible fade show  mr-4 ml-4" role="alert">
    This feature does not currently have the functionality to save rules permanently.
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
    </button>
</div>

<div>
    <h3>Rule Builder</h3>
    <div>
        <button type="button" class="btn btn-primary" id="save">Save Workspace</button>
        <button type="button" class="btn btn-primary" id="clear">Clear Workspace</button>
    </div>
    <div id="blocklyDiv" style="height: 480px; width: 1000px;"></div>
    <xml xmlns="https://developers.google.com/blockly/xml" id="toolbox" style="display: none">
        <category name="Rule Frame">
            <block type="rule_frame">
                <statement name="Rule_Frame">
                    <block type="if_then"></block>
                </statement>
            </block>
        </category>
        <category name="Comparator">
            <block type="comparator_crosses">
                <field name="Crosses">Above</field>
            </block>
            <block type="comparator_e_gt_lt">
                <field name="Comparator">Equals</field>
            </block>
        </category>
        <category name="Indicator">
            <block type="indicator_with_period">
                <field name="NAME">SMA</field>
                <field name="Period">0</field>
            </block>
            <block type="bollinger_bands">
                <field name="Period">0</field>
                <field name="Band">Upper</field>
            </block>
            <block type="stock_data">
                <field name="type">Close</field>
            </block>
            <block type="number">
                <field name="Number">0</field>
            </block>
        </category>
        <category name="Connector">
            <block type="connector">
                <field name="Connector">and</field>
            </block>
        </category>
        <category name="Final">
            <block type="final_buy"></block>
            <block type="final_sell"></block>
        </category>
    </xml>
    <xml xmlns="https://developers.google.com/blockly/xml" id="workspaceBlocks" style="display: none"></xml>
</div>

<button type="button" class="btn btn-danger" id="Rule1" disabled>Rule 1</button>
<button type="button" class="btn btn-danger" id="Rule2" disabled>Rule 2</button>
<button type="button" class="btn btn-danger" id="Rule3" disabled>Rule 3</button>
<button type="button" class="btn btn-danger" id="Rule4" disabled>Rule 4</button>
<button type="button" class="btn btn-danger" id="Rule5" disabled>Rule 5</button>
<button type="button" class="btn btn-danger" id="Rule6" disabled>Rule 6</button>
<button type="button" class="btn btn-danger" id="Rule7" disabled>Rule 7</button>
<button type="button" class="btn btn-danger" id="Rule8" disabled>Rule 8</button>
<button type="button" class="btn btn-danger" id="Rule9" disabled>Rule 9</button>
<button type="button" class="btn btn-danger" id="Rule10" disabled>Rule 10</button>
<button type="button" class="btn btn-primary" id="ClearAll">Clear All Saved Rules</button>



</div>



<!-- RuleBuilder JS-->
{% load static%}

<script type="text/javascript" src="{% static 'blockly/blockly_compressed.js' %}"></script>
<script type="text/javascript" src="{% static 'blockly/blocks_compressed.js' %}"></script>
<script type="text/javascript" src="{% static 'blockly/msg/js/en.js' %}"></script>
<script type="text/javascript" src="{% static 'js/ruleBuilderNew.js' %}"></script>

{% endblock %}