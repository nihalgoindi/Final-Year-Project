{% extends 'base.html' %}
{% block title %}NEW Rule Builder{% endblock %}



{% block content %}

<div class="alert alert-warning alert-dismissible fade show  mr-4 ml-4" role="alert">
    This feature does not currently have the functionality to save rules permanently.
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
    </button>
</div>

<div>
    <h3>Rule Builder</h3>
    <div>
        <button type="button" class="btn btn-primary" id="save">Save Workspace</button>
        <button type="button" class="btn btn-primary" id="clear">Clear Workspace</button>
    </div>
    <div id="blocklyDiv" style="height: 480px; width: 1000px;"></div>
        <xml xmlns="https://developers.google.com/blockly/xml" id="toolbox" style="display: none">
            <category name="Rule Frame">
                <block type="rule_frame">
                    <field name="NAME">Enter a rule name...</field>
                    <statement name="RuleBody">
                        <block type="if_then"></block>
                    </statement>
                </block>
            </category>
            <category name="Comparator">
                <block type="comparators">
                    <field name="NAME">EQ</field>
                </block>
            </category>
            <category name="Indicator">
                <block type="indicators">
                    <field name="indicator">SMA</field>
                </block>
            </category>
            <category name="Connector">
                <block type="logic_operation">
                    <field name="OP">AND</field>
                </block>
            </category>
            <category name="Final">
                <block type="buy"></block>
                <block type="sell"></block>
            </category>
        </xml>
        <xml xmlns="https://developers.google.com/blockly/xml" id="workspaceBlocks" style="display: none"></xml>
    </div>

    <button type="button" class="btn btn-danger" id="Rule1" disabled>Rule 1</button>
    <button type="button" class="btn btn-danger" id="Rule2" disabled>Rule 2</button>
    <button type="button" class="btn btn-danger" id="Rule3" disabled>Rule 3</button>
    <button type="button" class="btn btn-danger" id="Rule4" disabled>Rule 4</button>
    <button type="button" class="btn btn-danger" id="Rule5" disabled>Rule 5</button>
    <button type="button" class="btn btn-danger" id="Rule6" disabled>Rule 6</button>
    <button type="button" class="btn btn-danger" id="Rule7" disabled>Rule 7</button>
    <button type="button" class="btn btn-danger" id="Rule8" disabled>Rule 8</button>
    <button type="button" class="btn btn-danger" id="Rule9" disabled>Rule 9</button>
    <button type="button" class="btn btn-danger" id="Rule10" disabled>Rule 10</button>
    <button type="button" class="btn btn-primary" id="ClearAll">Clear All Saved Rules</button>

    

</div>



<!-- RuleBuilder JS-->
{% load static%}

<script type="text/javascript" src="{% static 'blockly/blockly_compressed.js' %}"></script>
<script type="text/javascript" src="{% static 'blockly/blocks_compressed.js' %}"></script>
<script type="text/javascript" src="{% static 'blockly/msg/js/en.js' %}"></script>
<script type="text/javascript" src="{% static 'js/newRuleBuilder.js' %}"></script>

{% endblock %}